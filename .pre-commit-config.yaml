# SPDX-FileCopyrightText: 2025 Tomi Bo탑ak, Jo탑ef Stefan Institute
# SPDX-License-Identifier: MIT

repos:
  # 1. A local hook that annotates and re-adds staged files
  - repo: local
    hooks:
      - id: spdx-auto-annotate
        name: Annotate SPDX headers and restage files
        language: system
        entry: >
          bash -eu -c '
            reuse annotate \
              --copyright "2025 Tomi Bo탑ak, Jo탑ef Stefan Institute" \
              --license MIT \
              "$@" \
            && git add "$@"
          ' _
        pass_filenames: true
        stages: [pre-commit]

  # 2. Then run the REUSE linter to catch anything missing
  - repo: https://github.com/fsfe/reuse-tool
    rev: v5.0.2
    hooks:
      - id: reuse
        name: Verify REUSE compliance
        args: ["lint"]